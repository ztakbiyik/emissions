<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emissions App</title>
    <!-- Add your CSS styles or external stylesheet links here -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>

<!-- User Registration Form -->
<div>
    <h3>Sign Up</h3>
    <label for="signupUsername">Username:</label>
    <input type="text" id="signupUsername" name="username" required>

    <label for="signupPassword">Password:</label>
    <input type="password" id="signupPassword" name="password" required>

    <button onclick="signup()">Sign Up</button>
</div>

<hr>
    <h3>Login</h3>
    <label for="loginUsername">Username:</label>
    <input type="text" id="loginUsername" name="username" required>

    <label for="loginPassword">Password:</label>
    <input type="password" id="loginPassword" name="password" required>

    <button onclick="login()">Login</button>


<hr>

<!-- Add your additional content or links here -->

<script>
    function getEmissions() {
        const res = axios.get('http://localhost:8998/users/emission', {
            headers: {
                "Cache-Control": "no-cache",
                "Content-Type": "application/json",
                "Access-Control-Allow-Origin": true
            },
        }).then(response => {
            console.log(response)
        });

    }
    getEmissions();
    async function signup() {
        alert("Signed up");
        // You can add more JavaScript code here to handle the button click event.
        var username = document.getElementById("signupUsername").value;
        var password = document.getElementById("signupPassword").value;
        const user = {username, password};
        const json = JSON.stringify(user);
        const res = await axios.post('http://localhost:8998/users/register', user, {
            headers: {
                "Cache-Control": "no-cache",
                "Content-Type": "application/json",
                "Access-Control-Allow-Origin": true
            },
        });


        console.log(res)
    }

    async function login() {

        // You can add more JavaScript code here to handle the button click event.
        var username = document.getElementById("loginUsername").value;
        var password = document.getElementById("loginPassword").value;
        const user = {username, password};
        const json = JSON.stringify(user);
        const res = axios.post('http://localhost:8998/users/login', user, {
            headers: {
                "Cache-Control": "no-cache",
                "Content-Type": "application/json",
                "Access-Control-Allow-Origin": true
            },
        }).then(response => {
            console.log(response)
            window.location.href = 'data.html';
        });



        console.log(res)
    }
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.1/axios.min.js"></script>

</body>
</html>